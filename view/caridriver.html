<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cari Driver</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  </head>
  <body class="my-5 d-flex justify-content-center">

  <div class="row">
    <div class="container">
      <div class="card">
          <div class="card-body">
            <p class="text-center fw-bold fs-5">Mau ke Mana Hari ini?</p>

              <div class="mb-3">
                <label for="lokasiSekarang" class="form-label">Pilih titik penjemputan</label>
                <input type="text" class="form-control" id="lokasiSekarang" name="lokasiSekarang" placeholder="Lokasi Saat Ini" required>
              </div>
              <div class="mb-3">
                <label for="lokasiTujuan" class="form-label">Pilih titik tujuan</label>
                <input type="text" class="form-control" id="lokasiTujuan" name="lokasiTujuan" placeholder="Lokasi Tujuan" required>
              </div>
              <div class="mb-3">
                <label for="kendaraan" class="form-label">Pilih tipe kendaraan</label>
                <select class="form-select" name="kendaraan" id="kendaraan" aria-label="Tipe Kendaraan">
                    <option value="motor">Motor</option>
                    <option value="mobil">Mobil</option>
                  </select>
              </div>
              <div class="mb-3">
                  <label for="promo" class="form-label">Masukkan kode promo</label>
                  <input type="text" class="form-control" name="promo" id="promo" placeholder="promo">
              </div>
              <div class="mb-3">
                  <label for="pembayaran" class="form-label">Pilih metode pembayaran</label>
                  <select class="form-select" name="pembayaran" id="pembayaran" aria-label="Pembayaran">
                      <option value="gopay">Go-Pay</option>
                      <option value="cash">Cash</option>
                    </select>
              </div>
              
              <div class="row">
                <div class="col">
                  <div class="btn btn-primary" onclick="get()">Cari</div>
                </div>
                <div class="col">
                  <a href="index.html">
                    <div class="btn btn-danger">Kembali</div>
                  </a>
                </div>
              </div>
              
          </div>
      </div>
      <div class="d-flex justify-content-center">
        <div class="all-elephant-cards row"></div>
      </div>
    </div>
  </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <script>
      function get() {
        var lokasiTujuan = document.getElementById("lokasiTujuan").value;
        var lokasiSekarang = document.getElementById("lokasiSekarang").value;
        var Promo = document.getElementById("promo").value;
        var kendaraan = document.getElementById("kendaraan").value;
        var pembayaran = document.getElementById("pembayaran").value;
        const elephantsArray = [
          {
            id: 1,
            lokSekarang: lokasiSekarang,
            lokTujuan: lokasiTujuan,
            kend: kendaraan,
            driver: "Mamang Garonk",
            promo: Promo,
            pemb: pembayaran,
            harga: Math.floor((Math.random() * 100) + 1) * 1000,

          },
          {
            id: 2,
            lokSekarang: lokasiSekarang,
            lokTujuan: lokasiTujuan,
            kend: kendaraan,
            driver: "Irpan Gaming",
            promo: Promo,
            pemb: pembayaran,
            harga: Math.floor((Math.random() * 100) + 1)  * 1000,

          },
          {
            id: 3,
            lokSekarang: lokasiSekarang,
            lokTujuan: lokasiTujuan,
            kend: kendaraan,
            driver: "Bapa - Bapa",
            promo: Promo,
            pemb: pembayaran,
            harga: Math.floor((Math.random() * 100) + 1)  * 1000,

          }
        ];
              
        let htmlCode = ``;
        
        elephantsArray.forEach(function(singleElephantObjects) {
          // uncomment the line below, to see each of the 4 objects rendered in the console.
          //console.log(singleElephantObjects);

          // we take our previous empty htmlCode variable and add our html codes to it.

          // because the forEach method returns objects, we can then use the dot notation to reference children of the object, e.g, elephant.driver;
          htmlCode =
            htmlCode +
            `
            <form class="col" action="sini.html">
            
            <div class="card">
              <div class="card-body">
                <card>
                  <div>
                  <h5>Nama Driver: ${singleElephantObjects.driver}</h5>
                  <p>Lokasi Sekarang: ${singleElephantObjects.lokSekarang}</p>
                  <input type="hidden" name="lokTujuan" value="${singleElephantObjects.lokTujuan}" required>
                  <input type="hidden" name="lokSekarang" value="${singleElephantObjects.lokSekarang}" required>
                  <input type="hidden" name="promo" value="${singleElephantObjects.promo}">
                  <input type="hidden" name="driver" value="${singleElephantObjects.driver}">
                  <input type="hidden" name="harga" value="${singleElephantObjects.harga}">
                  <input type="hidden" name="kendaraan" value="${singleElephantObjects.kend}">
                  <input type="hidden" name="pembayaran" value="${singleElephantObjects.pemb}">
                  <p>Lokasi Tujuan: ${singleElephantObjects.lokTujuan}</p>
                  <p>Harga: Rp ${singleElephantObjects.harga}</p>
                  <button type="submit" class="btn btn-danger" id="btn_${singleElephantObjects.id}">btn_${singleElephantObjects.id}</button>
                  </div>
                </card>
              </div>
          </div>
          </form>
          `;
          // uncomment the line below to see the output in the browser console.
          // console.log(htmlCode);
        
        });
        // we are simply saying, "let elephantCards be = to that div", to target that div, we reference the class we gave to it.
        const elephantCards = document.querySelector(".all-elephant-cards");

        // here's how we do the render;
        // since elephantCards is now = to that div, we now say let the inside of that div take in our htmlCode variable that holds our html codes.
        elephantCards.innerHTML = htmlCode;
      }
    </script>

  </body>
</html>
